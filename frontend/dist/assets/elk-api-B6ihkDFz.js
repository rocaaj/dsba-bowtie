import{g as b}from"./index-1rBGSag3.js";import{c as k}from"./_commonjs-dynamic-modules-TDtrdbi3.js";function j(g,h){for(var f=0;f<h.length;f++){const i=h[f];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in g)){const s=Object.getOwnPropertyDescriptor(i,a);s&&Object.defineProperty(g,a,s.get?s:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}var _={exports:{}};(function(g,h){(function(f){g.exports=f()})(function(){return function(){function f(i,a,s){function p(n,o){if(!a[n]){if(!i[n]){var e=typeof k=="function"&&k;if(!o&&e)return e(n,!0);if(m)return m(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var t=a[n]={exports:{}};i[n][0].call(t.exports,function(u){var c=i[n][1][u];return p(c||u)},t,t.exports,f,i,a,s)}return a[n].exports}for(var m=typeof k=="function"&&k,y=0;y<s.length;y++)p(s[y]);return p}return f}()({1:[function(f,i,a){Object.defineProperty(a,"__esModule",{value:!0});var s=function(){function n(o,e){for(var r=0;r<e.length;r++){var t=e[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,t.key,t)}}return function(o,e,r){return e&&n(o.prototype,e),r&&n(o,r),o}}();function p(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}var m=function(){function n(){var o=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.defaultLayoutOptions,t=r===void 0?{}:r,u=e.algorithms,c=u===void 0?["layered","stress","mrtree","radial","force","disco","sporeOverlap","sporeCompaction","rectpacking"]:u,l=e.workerFactory,d=e.workerUrl;if(p(this,n),this.defaultLayoutOptions=t,this.initialized=!1,typeof d>"u"&&typeof l>"u")throw new Error("Cannot construct an ELK without both 'workerUrl' and 'workerFactory'.");var v=l;typeof d<"u"&&typeof l>"u"&&(v=function(x){return new Worker(x)});var w=v(d);if(typeof w.postMessage!="function")throw new TypeError("Created worker does not provide the required 'postMessage' function.");this.worker=new y(w),this.worker.postMessage({cmd:"register",algorithms:c}).then(function(E){return o.initialized=!0}).catch(console.err)}return s(n,[{key:"layout",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.layoutOptions,u=t===void 0?this.defaultLayoutOptions:t,c=r.logging,l=c===void 0?!1:c,d=r.measureExecutionTime,v=d===void 0?!1:d;return e?this.worker.postMessage({cmd:"layout",graph:e,layoutOptions:u,options:{logging:l,measureExecutionTime:v}}):Promise.reject(new Error("Missing mandatory parameter 'graph'."))}},{key:"knownLayoutAlgorithms",value:function(){return this.worker.postMessage({cmd:"algorithms"})}},{key:"knownLayoutOptions",value:function(){return this.worker.postMessage({cmd:"options"})}},{key:"knownLayoutCategories",value:function(){return this.worker.postMessage({cmd:"categories"})}},{key:"terminateWorker",value:function(){this.worker&&this.worker.terminate()}}]),n}();a.default=m;var y=function(){function n(o){var e=this;if(p(this,n),o===void 0)throw new Error("Missing mandatory parameter 'worker'.");this.resolvers={},this.worker=o,this.worker.onmessage=function(r){setTimeout(function(){e.receive(e,r)},0)}}return s(n,[{key:"postMessage",value:function(e){var r=this.id||0;this.id=r+1,e.id=r;var t=this;return new Promise(function(u,c){t.resolvers[r]=function(l,d){l?(t.convertGwtStyleError(l),c(l)):u(d)},t.worker.postMessage(e)})}},{key:"receive",value:function(e,r){var t=r.data,u=e.resolvers[t.id];u&&(delete e.resolvers[t.id],t.error?u(t.error):u(null,t.data))}},{key:"terminate",value:function(){this.worker&&this.worker.terminate()}},{key:"convertGwtStyleError",value:function(e){if(e){var r=e.__java$exception;r&&(r.cause&&r.cause.backingJsObject&&(e.cause=r.cause.backingJsObject,this.convertGwtStyleError(e.cause)),delete e.__java$exception)}}}]),n}()},{}],2:[function(f,i,a){var s=f("./elk-api.js").default;Object.defineProperty(i.exports,"__esModule",{value:!0}),i.exports=s,s.default=s},{"./elk-api.js":1}]},{},[2])(2)})})(_);var O=_.exports;const L=b(O),P=j({__proto__:null,default:L},[O]);export{P as e};
